<?xml version="1.0" encoding="utf-8"?><asx:abap xmlns:asx="http://www.sap.com/abapxml">
<asx:values>
<ACMDCLSRC>
<ACMDCLSRC>
<DCLNAME>I_RECIPECLASSCHARCTP</DCLNAME>
<AS4LOCAL>A</AS4LOCAL>
<AS4USER>SAP</AS4USER>
<AS4DATE>2018-03-09</AS4DATE>
<AS4TIME>16:55:44</AS4TIME>
<SOURCE>@EndUserText.label: 'Mapping Role for I_RecipeClassCharcTP' 
@MappingRole: true 

define role I_RecipeClassCharcTP { 
  grant select on I_RecipeClassCharcTP 
    where 
      // Recipe DCL
      (
      ( _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeAuthorizationGroup &lt;&gt; '' 
        and ( _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeType,
              _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipePurpose,
              _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeStatus,
              _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeAuthorizationGroup ) =
        aspect pfcg_auth (  PLM_RCPCVS,
                            PLM_RCPTYP,
                            PLM_RCPUSG,
                            PLM_RCPSTA,
                            PLM_RCPAGR,
                            ACTVT = '03' )
      ) 
    or 
      ( ( _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeAuthorizationGroup is null or _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeAuthorizationGroup = ''  ) 
        and ( _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeType,
              _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipePurpose,
              _Recipe( P_KeyDate: $parameters.P_KeyDate ).RecipeStatus ) =
        aspect pfcg_auth (  PLM_RCPCVS,
                            PLM_RCPTYP,
                            PLM_RCPUSG,
                            PLM_RCPSTA,
                            ACTVT = '03' ) 
      )
    )

    and ( _Recipe( P_KeyDate: $parameters.P_KeyDate )._PrimaryOutputSpecification( P_KeyDate : $parameters.P_KeyDate).SpecificationAuthznGroup,
          _Recipe( P_KeyDate: $parameters.P_KeyDate )._PrimaryOutputSpecification( P_KeyDate : $parameters.P_KeyDate).SpecificationType ) =
    aspect pfcg_auth (  C_SHES_TR2,
                        ESEAUTHGRP,
                        SUBCAT,
                        actvt = '03' )


// Access Control Context integration
// If the PLM_RCP is not ACM relevant, then the user has access
// IF the PLM RCP is ACM relevant, then at least one sub condition should be true
    and (   _Recipe( P_KeyDate: $parameters.P_KeyDate )._LogAccMObjectTypeActive.LogAccMObjectTypeIsActive = '' 
    
          or 
          
            _Recipe( P_KeyDate: $parameters.P_KeyDate )._LogAccMObjectTypeActive.LogAccMObjectTypeIsActive is null 
                    
          or                 
            // If the user is super user for recipe or for all object types, then the user has access
            (  ) = aspect pfcg_auth (  PLM_SPUSR, PLM_OTYP_S = 'PLM_RCP' ) 
              
          or 
            // If the user is trusted user for recipe or for all object types and the recipe is not managed by ACM, then the user has access            
            ( 
               (  ) = aspect pfcg_auth (  PLM_TRUSR, PLM_OTYP_T = 'PLM_RCP' ) 
               and _Recipe( P_KeyDate: $parameters.P_KeyDate )._LogAccMObjSecureIDAssgmt.LogAccMObjectType is null
            )
                     
         or        
            // If the user gets access via access control context
            ( 
                _Recipe( P_KeyDate: $parameters.P_KeyDate )._LogAccMObjectUserAuthzn.LogAccMUserAuthznObject = 'PLM_RCP'
            )          
      ) 
      
    // ClassType authorization
      and ( ClassType ) = aspect pfcg_auth (  C_TCLA_BKA, KLART )
    // Class authorization
      and ( ( _RecipeClass( P_KeyDate: $parameters.P_KeyDate )._Class( P_KeyDate: $parameters.P_KeyDate ).ClassMaintAuthGrp = '' and 
            ( ) =  aspect pfcg_auth (  C_KLAH_BKP, ACTVT = '03' ) )  //display                                                           
        or 
          ( _RecipeClass( P_KeyDate: $parameters.P_KeyDate )._Class( P_KeyDate: $parameters.P_KeyDate ).ClassMaintAuthGrp &lt;&gt; '' and  
          ( _RecipeClass( P_KeyDate: $parameters.P_KeyDate )._Class( P_KeyDate: $parameters.P_KeyDate ).ClassMaintAuthGrp ) =  aspect pfcg_auth (  C_KLAH_BKP, BGRKP, ACTVT = '03' ) ) ) //display
    // Classification authorization
      and ( ( _RecipeClass( P_KeyDate : $parameters.P_KeyDate )._Class( P_KeyDate : $parameters.P_KeyDate ).ClassClassfctnAuthGrp = '' and 
          ( ) =  aspect pfcg_auth (  C_KLAH_BKL, ACTVT = '03' ) )  //display                                                           
        or 
          ( _RecipeClass( P_KeyDate : $parameters.P_KeyDate )._Class( P_KeyDate : $parameters.P_KeyDate ).ClassClassfctnAuthGrp &lt;&gt; '' and  
          ( _RecipeClass( P_KeyDate : $parameters.P_KeyDate )._Class( P_KeyDate : $parameters.P_KeyDate ).ClassClassfctnAuthGrp ) =  aspect pfcg_auth (  C_KLAH_BKL, BGRKL, ACTVT = '03' ) ) ) //display               
    // Characteristic authorization
      and ( 
            ( _Characteristic.CharcMaintAuthGrp = ''  and 
            ( ) =  aspect pfcg_auth (  C_CABN, ACTVT = '03' ) //display
          ) 
      or    ( _Characteristic.CharcMaintAuthGrp &lt;&gt; ''  and 
            ( _Characteristic.CharcMaintAuthGrp )  = aspect pfcg_auth ( C_CABN_GRP, ATAUTH ) and
            ( ) =  aspect pfcg_auth (  C_CABN, ACTVT = '03' ) ) //display 
          ); 
}</SOURCE>
<PARENTNAME></PARENTNAME>
<ABAP_LANGUAGE_VERSION></ABAP_LANGUAGE_VERSION>
</ACMDCLSRC>
</ACMDCLSRC>
<ACMDCLSRCT>
<ACMDCLSRCT>
<DCLNAME>I_RECIPECLASSCHARCTP</DCLNAME>
<DCLLANGUAGE>D</DCLLANGUAGE>
<AS4LOCAL>A</AS4LOCAL>
<DDTEXT>Zuordnungsrolle für I_RecipeClassCharcTP</DDTEXT>
</ACMDCLSRCT>
<ACMDCLSRCT>
<DCLNAME>I_RECIPECLASSCHARCTP</DCLNAME>
<DCLLANGUAGE>E</DCLLANGUAGE>
<AS4LOCAL>A</AS4LOCAL>
<DDTEXT>Mapping Role for I_RecipeClassCharcTP</DDTEXT>
</ACMDCLSRCT>
<ACMDCLSRCT>
<DCLNAME>I_RECIPECLASSCHARCTP</DCLNAME>
<DCLLANGUAGE>F</DCLLANGUAGE>
<AS4LOCAL>A</AS4LOCAL>
<DDTEXT>Rôle de mappage pour I_RecipeClassCharcTP</DDTEXT>
</ACMDCLSRCT>
<ACMDCLSRCT>
<DCLNAME>I_RECIPECLASSCHARCTP</DCLNAME>
<DCLLANGUAGE>N</DCLLANGUAGE>
<AS4LOCAL>A</AS4LOCAL>
<DDTEXT>Mappingrol voor I_RecipeClassCharcTP</DDTEXT>
</ACMDCLSRCT>
<ACMDCLSRCT>
<DCLNAME>I_RECIPECLASSCHARCTP</DCLNAME>
<DCLLANGUAGE>T</DCLLANGUAGE>
<AS4LOCAL>A</AS4LOCAL>
<DDTEXT>I_RecipeClassCharcTP için eşleme rolü</DDTEXT>
</ACMDCLSRCT>
</ACMDCLSRCT>
<TADIR>
<TADIR>
<PGMID>R3TR</PGMID>
<OBJECT>DCLS</OBJECT>
<OBJ_NAME>I_RECIPECLASSCHARCTP</OBJ_NAME>
<KORRNUM></KORRNUM>
<SRCSYSTEM>SAP</SRCSYSTEM>
<AUTHOR>SAP</AUTHOR>
<SRCDEP></SRCDEP>
<DEVCLASS>NGC_CORE_VDM</DEVCLASS>
<GENFLAG></GENFLAG>
<EDTFLAG></EDTFLAG>
<CPROJECT> S</CPROJECT>
<MASTERLANG>E</MASTERLANG>
<VERSID>0.0</VERSID>
<PAKNOCHECK></PAKNOCHECK>
<OBJSTABLTY></OBJSTABLTY>
<COMPONENT>S4CORE</COMPONENT>
<CRELEASE>103</CRELEASE>
<DELFLAG></DELFLAG>
<TRANSLTTXT></TRANSLTTXT>
<CREATED_ON>2017-10-26</CREATED_ON>
<CHECK_DATE>2017-10-26</CHECK_DATE>
<CHECK_CFG></CHECK_CFG>
</TADIR>
</TADIR>
</asx:values>
</asx:abap>